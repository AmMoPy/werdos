import s from"@emailjs/browser";export default async function e(e,t){if("POST"!==e.method)return t.status(405).json({success:!1,error:"Method not allowed"});let{email:r,subject:n,message:o}=e.body;if(!r||!n||!o||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||n.length>100||o.length>1e3)return t.status(400).json({success:!1,error:"Invalid input data"});try{return await s.send(process.env.SERVICE_ID,process.env.TEMPLATE_ID,{email:r,subject:n,message:o},process.env.API_KEY),t.status(200).json({success:!0})}catch(a){return console.error("EmailJS Error:",a),t.status(500).json({success:!1,error:"Failed to send email"})}};